import{d as b,b as $,o as l,u as d,P as w,w as h,e as s,t as r,a as c,c as _,f as g,F as k,r as F,g as A,m as T}from"./app-CRVfHUbl.js";import{_ as E}from"./SiteLayout.vue_vue_type_script_setup_true_lang-DzVy2XUS.js";import{_ as z,a as R,b as I,c as W}from"./ArticleCardHorizontal.vue_vue_type_script_setup_true_lang-gU4KaHVk.js";import{_ as j}from"./AuthorIcon.vue_vue_type_script_setup_true_lang-D1R22QiP.js";import{_ as S}from"./index-Dd5QN_LQ.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BpLbFC4_.js";import"./index-DfbCg4Oz.js";const K={class:"main-post__info"},U={class:"main-post__info__header"},q={class:""},G={class:"fs-500"},H={class:"main-post__info__details"},J={class:"uphail"},O={class:"uphail-count"},Q={class:"padding-inline-4"},X={class:"comment-count"},Y={class:"main-post__image"},Z=["srcset"],x=["srcset"],ss=["src","alt"],es=b({__name:"MainPost",props:{featuredPost:{}},setup(f){return(e,o)=>{var a;return l(),$(d(w),{href:e.route("post.show",{slug:(a=e.featuredPost[0])==null?void 0:a.slug}),class:"main-post | no-decor","aria-label":"Main Post"},{default:h(()=>{var n,t,i,u,m,p,y,v,P,C,N,D,M,L,B,V;return[s("div",K,[s("div",U,[s("h1",q,r((n=e.featuredPost)==null?void 0:n[0].title),1),s("p",G,r((t=e.featuredPost)==null?void 0:t[0].extract),1)]),s("div",H,[s("div",J,[c(z,{size:"24px",style:{"margin-right":".4rem"}}),s("span",O,r((i=e.featuredPost)==null?void 0:i[0].likes_count),1)]),s("div",Q,[c(R,{class:"main-post-comment-icon",size:"24px",style:{"margin-right":".4rem"}}),s("span",X,r(e.featuredPost[0].comments_count),1)]),s("div",null,[c(j,{class:"main-post-author-icon",color:"#D3D7EA",hoverColor:"#F4FFC7",size:"24px",style:{"margin-right":".4rem"}}),s("span",null,r(((m=(u=e.featuredPost)==null?void 0:u[0].user)==null?void 0:m.username)||"Rattlehead"),1)])])]),s("div",Y,[s("picture",null,[s("source",{media:"(min-width: 768px)",srcset:(v=(y=(p=e.featuredPost)==null?void 0:p[0])==null?void 0:y.thumbnail_urls)==null?void 0:v.max},null,8,Z),s("source",{media:"(max-width: 767px)",srcset:(N=(C=(P=e.featuredPost)==null?void 0:P[0])==null?void 0:C.thumbnail_urls)==null?void 0:N.lg},null,8,x),s("img",{src:(L=(M=(D=e.featuredPost)==null?void 0:D[0])==null?void 0:M.thumbnail_urls)==null?void 0:L.lg,alt:(V=(B=e.featuredPost)==null?void 0:B[0])==null?void 0:V.title,class:"post-thumbnail"},null,8,ss)])])]}),_:1},8,["href"])}}}),ts={class:"leaderboard__container__left-column"},as={class:"leaderboard__container__left-column__user"},os={class:"clr-neutral-200"},rs={class:"leaderboard__container__left-column__post-title"},ns={class:"leaderboard__container__uphail"},ls={class:"clr-primary-300"},is=b({__name:"LeaderboardCard",props:{post:{},rank:{}},setup(f){return(e,o)=>{var a;return l(),$(d(w),{class:"leaderboard__container | no-decor",href:e.route("channel.post.show",{channel:(a=e.post.channel)==null?void 0:a.slug,post:e.post.slug})},{default:h(()=>{var n,t,i;return[s("div",ts,[s("div",as,[s("span",os,"#"+r(e.rank??"-"),1),c(S,{size:"sm",shape:"circle",src:(n=e.post.user)==null?void 0:n.avatar_url,alt:((t=e.post.user)==null?void 0:t.username)||"Rattlehead"},null,8,["src","alt"]),s("p",null,r((i=e.post.user)==null?void 0:i.username),1)]),s("div",rs,[s("h2",null,r(e.post.title),1)])]),s("div",ns,[s("span",ls,r(e.post.likes_count),1),c(z,{size:"24px",fillColor:"#A0DD05",style:{"margin-right":".4rem"}})])]}),_:1},8,["href"])}}}),cs={key:0,class:"leaderboard | flow","aria-label":"Leaderboard"},ds=b({__name:"MainLeaderboard",props:{leaderboard:{}},setup(f){return(e,o)=>{var a;return(a=e.leaderboard)!=null&&a.length?(l(),_("section",cs,[o[0]||(o[0]=s("h2",{class:"leaderboard__header | uppercase fw-semibold clr-secondary-200"},"Leaderboard",-1)),(l(!0),_(k,null,F(e.leaderboard,(n,t)=>(l(),$(is,{key:n.id,post:n,rank:t+1},null,8,["post","rank"]))),128))])):g("",!0)}}}),_s={class:"secondary-posts__post-card__image-wrapper"},us=["srcset"],ms=["srcset"],ps=["src","alt"],hs={class:"secondary-posts__post-card__info"},fs=b({__name:"StaffPost",props:{post:{}},setup(f){return(e,o)=>(l(),$(d(w),{href:e.route("post.show",{slug:e.post.slug}),class:"secondary-posts__post-card"},{default:h(()=>{var a,n,t,i,u,m,p;return[s("div",_s,[s("picture",null,[s("source",{media:"(min-width: 768px)",srcset:(n=(a=e.post)==null?void 0:a.thumbnail_urls)==null?void 0:n.max},null,8,us),s("source",{media:"(max-width: 767px)",srcset:(i=(t=e.post)==null?void 0:t.thumbnail_urls)==null?void 0:i.md},null,8,ms),s("img",{src:(m=(u=e.post)==null?void 0:u.thumbnail_urls)==null?void 0:m.lg,alt:(p=e.post)==null?void 0:p.title,class:"post-thumbnail"},null,8,ps)])]),s("div",hs,[s("h2",null,r(e.post.title),1),s("p",null,r(e.post.extract),1)])]}),_:1},8,["href"]))}}),$s={key:0,class:"secondary-posts","aria-label":"Featured posts"},bs=b({__name:"MainStaffPosts",props:{staffPosts:{}},setup(f){return(e,o)=>{var a,n;return(a=e.staffPosts)!=null&&a.length?(l(),_("section",$s,[(l(!0),_(k,null,F((n=e.staffPosts)==null?void 0:n.slice(0,4),(t,i)=>(l(),_("article",{key:t.id},[c(fs,{post:t,index:i},null,8,["post","index"]),o[0]||(o[0]=s("hr",{class:"hr-secondary"},null,-1))]))),128))])):g("",!0)}}}),gs={class:"community-layout"},ys={class:"community-layout__post-wrapper"},vs={class:"feed-post__top"},Ps={class:"feed-post-author"},ws={class:"feed-post__top__date"},ks={class:"clr-primary-300 fs-300 padding-inline-start-1"},Fs={class:"padding-inline-start-1"},zs={class:"feed-post__middle"},Cs={class:"post-title"},Ns={class:"post-excerpt"},Ds={class:"feed-post__bottom"},Ms={class:"feed-uphail-count"},Ls={class:"clr-primary-300"},Bs={class:"feed-comment-count"},Vs={class:"comment-count"},As=b({__name:"MainCommunityFeed",props:{communityFeed:{}},setup(f){return(e,o)=>(l(),_("div",gs,[o[3]||(o[3]=s("h2",{class:"community-layout__header | uppercase clr-secondary-200 fw-semibold"},"community",-1)),s("main",ys,[c(W,{endpoint:"/?json=true",dataKey:"data",initialItems:e.communityFeed.data,initialNextPage:e.communityFeed.next_page_url??void 0},{default:h(({items:a})=>[(l(!0),_(k,null,F(a,n=>(l(),_("article",{key:n.id},[c(I,{post:n,class:"feed-post | no-decor"},{header:h(({post:t})=>{var i;return[s("div",vs,[c(d(w),{class:"no-decor",href:t.user?e.route("author.posts",{user:t.user}):"/","aria-label":"More about this author"},{default:h(()=>{var u,m,p;return[c(S,{size:"sm",shape:"circle",src:(u=t.user)==null?void 0:u.avatar_url,alt:(m=t.user)==null?void 0:m.username},null,8,["src","alt"]),s("span",Ps,r(((p=t.user)==null?void 0:p.username)||"Rattlehead"),1)]}),_:2},1032,["href"]),s("span",ws,r(t==null?void 0:t.short_date),1),s("p",ks,[o[0]||(o[0]=A(" â€¢ ")),s("span",Fs,r((i=t.channel)==null?void 0:i.name),1)])])]}),middle:h(({post:t})=>[s("div",zs,[s("h2",Cs,r(t.title),1),s("p",Ns,r(t.excerpt),1)])]),divider:h(()=>o[1]||(o[1]=[s("hr",{class:"hr-straight-mobile"},null,-1)])),footer:h(({post:t})=>[s("div",Ds,[s("div",Ms,[c(z,{size:"22px",style:{"margin-right":".4rem"}}),s("span",Ls,r(t.likes_count),1)]),s("div",Bs,[c(R,{size:"22px",style:{"margin-right":".4rem"}}),s("span",Vs,r(t.comments_count),1)])])]),_:2},1032,["post"]),o[2]||(o[2]=s("hr",{class:"hr-straight-large"},null,-1))]))),128))]),_:1},8,["initialItems","initialNextPage"])])]))}}),Rs={class:"new-albums"},Ss={class:"new-albums__scroll-container"},Ts=["href"],Es={class:"album__header"},Is={class:"genres"},Ws={class:"genre"},js={key:0,class:"album-cover"},Ks=["src","alt"],Us={class:"album__content"},qs={class:"band"},Gs={class:"title"},Hs={class:"date"},Js=b({__name:"NewAlbums",props:{albums:{}},setup(f){return(e,o)=>(l(),_("section",Rs,[o[1]||(o[1]=s("div",{class:"new-albums-header"},[s("h2",{class:"clr-accent-200 fw-semibold uppercase"},"new releases"),s("p",{class:"powered-string"},[A("by "),s("a",{href:"https://www.metal-archives.com",target:"_blank",rel:"noopener noreferrer",class:"no-decor uppercase"},"metal-archives")])],-1)),s("ul",Ss,[(l(!0),_(k,null,F(e.albums,(a,n)=>(l(),_("li",{class:"album",key:n},[s("a",{href:a.albumUrl,rel:"noopener noreferrer",target:"_blank",class:"album__info"},[s("div",Es,[s("div",Is,[s("p",Ws,r(a.genre),1),o[0]||(o[0]=s("hr",null,null,-1))]),a.cover?(l(),_("div",js,[s("img",{src:a.cover,alt:a.releaseTitle},null,8,Ks)])):g("",!0)]),s("div",Us,[s("p",qs,r(a.band),1),s("p",Gs,r(a.releaseTitle)+" ("+r(a.type)+")",1),s("p",Hs,r(a.releaseDate),1)])],8,Ts)]))),128))])]))}}),Os={class:"main-editorial-grid"},Qs={key:0,class:"community-grid"},ae=b({__name:"Welcome",props:{featuredPost:{},staffPosts:{},leaderboard:{},communityFeed:{},albums:{}},setup(f){const e=f,{featuredPost:o,staffPosts:a,leaderboard:n,communityFeed:t}=e;return(i,u)=>(l(),$(E,null,{default:h(()=>{var m,p,y,v,P;return[c(d(T),{title:"Welcome"}),s("section",Os,[(m=d(o))!=null&&m.length?(l(),$(es,{key:0,featuredPost:d(o)},null,8,["featuredPost"])):g("",!0),(p=d(n))!=null&&p.length?(l(),$(ds,{key:1,leaderboard:d(n)},null,8,["leaderboard"])):g("",!0),u[0]||(u[0]=s("hr",{class:"hr-leaderboard | margin-inline-4"},null,-1)),(y=d(a))!=null&&y.length?(l(),$(bs,{key:2,staffPosts:d(a)},null,8,["staffPosts"])):g("",!0),c(Js,{albums:i.albums},null,8,["albums"])]),(P=(v=d(t))==null?void 0:v.data)!=null&&P.length?(l(),_("section",Qs,[c(As,{communityFeed:d(t)},null,8,["communityFeed"])])):g("",!0)]}),_:1}))}});export{ae as default};
